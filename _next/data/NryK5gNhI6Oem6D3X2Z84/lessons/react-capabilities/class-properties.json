{"pageProps":{"post":{"attributes":{"description":"Using constructors to set initial state for class components is verbose and can be done better. Brian teaches you to use the new feature in JavaScript, class properties, to make your code easy to read."},"html":"<p>The constructor is annoying. We can use something called class properties to make it a lot nicer and easier to read. Class properties are a new part of JavaScript so we need Parcel transform the code when Parcel transpiles our code. Luckily our config will do that by itself so no further changes are needed (previously we did need to.)</p>\n<p>Since we&#39;re going to take ahold of our own Babel configuration, we need to take over <em>all of it</em>. Parcel won&#39;t do it for us anymore. So install the following:</p>\n<pre><code class=\"hljs language-bash\">npm i -D @babel/plugin-proposal-class-properties@7.13.0 @babel/preset-env@7.13.5 @babel/eslint-parser@7.13.4\n</code></pre>\n<p>Now modify your <code>.babelrc</code> with the following:</p>\n<pre><code class=\"hljs language-json\"><span class=\"hljs-punctuation\">{</span>\n  <span class=\"hljs-attr\">&quot;presets&quot;</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-punctuation\">[</span>\n    <span class=\"hljs-punctuation\">[</span>\n      <span class=\"hljs-string\">&quot;@babel/preset-react&quot;</span><span class=\"hljs-punctuation\">,</span>\n      <span class=\"hljs-punctuation\">{</span>\n        <span class=\"hljs-attr\">&quot;runtime&quot;</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-string\">&quot;automatic&quot;</span>\n      <span class=\"hljs-punctuation\">}</span>\n    <span class=\"hljs-punctuation\">]</span><span class=\"hljs-punctuation\">,</span>\n    <span class=\"hljs-string\">&quot;@babel/preset-env&quot;</span>\n  <span class=\"hljs-punctuation\">]</span><span class=\"hljs-punctuation\">,</span>\n  <span class=\"hljs-attr\">&quot;plugins&quot;</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-punctuation\">[</span><span class=\"hljs-string\">&quot;@babel/plugin-proposal-class-properties&quot;</span><span class=\"hljs-punctuation\">]</span>\n<span class=\"hljs-punctuation\">}</span>\n</code></pre>\n<p>Babel&#39;s core concept is a plugin. Every one sort of a transformation it can perform is encapsulated into a plugin. Here we&#39;re including one explicitly: transform-class-properties. Then we&#39;re including a <em>preset</em> as well. A preset is just a group of plugins, grouped together for convenience. <code>env</code> is a particularly good one you should expect to normally use.\nThis will allow us too to make ESLint play nice too (Prettier handles this automatically.) Add one line to the top level of your <code>.eslintrc.json</code>:</p>\n<pre><code class=\"hljs language-json\"><span class=\"hljs-punctuation\">{</span>\n  …\n  <span class=\"hljs-attr\">&quot;parser&quot;</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-string\">&quot;@babel/eslint-parser&quot;</span><span class=\"hljs-punctuation\">,</span>\n  …\n<span class=\"hljs-punctuation\">}</span>\n</code></pre>\n<p>Now with this, we can modify Details to be as so:</p>\n<pre><code class=\"hljs language-javascript\"><span class=\"hljs-comment\">// replace constructor</span>\nstate = { <span class=\"hljs-attr\">loading</span>: <span class=\"hljs-literal\">true</span> };\n</code></pre>\n<p>Loads easier to read, right?</p>\n","slug":"class-properties","title":"Class Properties","section":"React Capabilities","icon":"map","filePath":"/home/runner/work/next-react-v6/next-react-v6/lessons/05-react-capabilities/C-class-properties.md","nextSlug":"/next-react-v6/lessons/react-capabilities/managing-state-in-class-components","prevSlug":"/next-react-v6/lessons/react-capabilities/class-components"}},"__N_SSG":true}